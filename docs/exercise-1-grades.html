<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Exercise 1: Grades | main.knit</title>
  <meta name="description" content="S2Y Lab 6<br />
Interval estimation and hypothesis testing</div>" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Exercise 1: Grades | main.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Exercise 1: Grades | main.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="example-1-cherry-trees.html"/>
<link rel="next" href="exercise-2-body-fat.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to S2Y Lab 6</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#the-summary-function-for-regression-models"><i class="fa fa-check"></i><b>1.1.1</b> The <code>summary()</code> function for regression models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="example-1-cherry-trees.html"><a href="example-1-cherry-trees.html"><i class="fa fa-check"></i><b>2</b> Example 1: Cherry trees</a>
<ul>
<li class="chapter" data-level="2.1" data-path="example-1-cherry-trees.html"><a href="example-1-cherry-trees.html#exploratory-analysis"><i class="fa fa-check"></i><b>2.1</b> Exploratory analysis</a></li>
<li class="chapter" data-level="2.2" data-path="example-1-cherry-trees.html"><a href="example-1-cherry-trees.html#statistical-analysis"><i class="fa fa-check"></i><b>2.2</b> Statistical analysis</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="example-1-cherry-trees.html"><a href="example-1-cherry-trees.html#regression-output"><i class="fa fa-check"></i><b>2.2.1</b> Regression output</a></li>
<li class="chapter" data-level="2.2.2" data-path="example-1-cherry-trees.html"><a href="example-1-cherry-trees.html#hypothesis-testing"><i class="fa fa-check"></i><b>2.2.2</b> Hypothesis testing</a></li>
<li class="chapter" data-level="2.2.3" data-path="example-1-cherry-trees.html"><a href="example-1-cherry-trees.html#confidence-interval-for-mathbfbtop-boldsymbolbeta"><i class="fa fa-check"></i><b>2.2.3</b> Confidence interval for <span class="math inline">\(\mathbf{b}^\top \boldsymbol\beta\)</span></a></li>
<li class="chapter" data-level="2.2.4" data-path="example-1-cherry-trees.html"><a href="example-1-cherry-trees.html#confidence-interval-for-the-population-mean-response-and-prediction-interval-for-a-future-response"><i class="fa fa-check"></i><b>2.2.4</b> Confidence interval for the population mean response and prediction interval for a future response</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exercise-1-grades.html"><a href="exercise-1-grades.html"><i class="fa fa-check"></i><b>3</b> Exercise 1: Grades</a></li>
<li class="chapter" data-level="4" data-path="exercise-2-body-fat.html"><a href="exercise-2-body-fat.html"><i class="fa fa-check"></i><b>4</b> Exercise 2: Body fat</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><div class="line-block">S2Y Lab 6<br />
Interval estimation and hypothesis testing</div></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-1-grades" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Exercise 1: Grades<a href="exercise-1-grades.html#exercise-1-grades" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In Lab 1, we looked at the <code>Grades</code> dataset from the <code>PASWR</code> package, which records the first-semester college GPA and SAT scores for 200 freshmen. The question of interest is to check whether there is a linear relationship between GPA and SAT scores.
To open the dataset, type:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="exercise-1-grades.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PASWR)</span>
<span id="cb25-2"><a href="exercise-1-grades.html#cb25-2" aria-hidden="true" tabindex="-1"></a>GRADES <span class="ot">&lt;-</span> Grades</span></code></pre></div>
<p><strong>QUESTION</strong></p>
<ol style="list-style-type: decimal">
<li>Fit the simple linear regression model on this data again and check if the model assumptions hold true.</li>
</ol>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="exercise-1-grades.html#cb26-1" aria-hidden="true" tabindex="-1"></a>Model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(gpa<span class="sc">~</span>sat, <span class="at">data=</span>GRADES)</span>
<span id="cb26-2"><a href="exercise-1-grades.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">rstandard</span>(Model2) <span class="sc">~</span> <span class="fu">fitted</span>(Model2))</span>
<span id="cb26-3"><a href="exercise-1-grades.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">lty=</span><span class="dv">3</span>)</span>
<span id="cb26-4"><a href="exercise-1-grades.html#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(<span class="fu">rstandard</span>(Model2))</span>
<span id="cb26-5"><a href="exercise-1-grades.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">qqline</span>(<span class="fu">rstandard</span>(Model2))</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>In the standardised residuals versus fitted values plot, we see that the points are fairly evenly scattered above and below the zero line, which suggests it is reasonable to assume that the random errors have mean zero. The vertical variation of the points seems to be small for small and large fitted values and large for fitted values in the middle. This raises slight concerns on constant variability, though we should also take into account that there are less observations in both ends.</p>
<p>The normal probability plot (Q-Q plot) suggests that points roughly lie on diagonal line, though there is some deviation at the extremes. We may conclude that the normality assumption holds with some caution.</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Which of the following comments on the adequacy of the model seems appropriate?</li>
</ol>
<div id="radio_GKQDMHYPYW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GKQDMHYPYW" value="answer"></input> <span>Based on R2, 56.12% of the variation in GPA scores is accounted for by the simple linear regression model with SAT scores as the predictor, and hence the model provides a moderate fit to the data.</span></label><label><input type="radio" autocomplete="off" name="radio_GKQDMHYPYW" value=""></input> <span>Based on adjusted R2, 55.89% of the variation in GPA scores is accounted for by the simple linear regression model with SAT scores as the predictor, and hence the model provides a moderate fit to the data.</span></label>
</div>
<p><br>
3. Without using the <code>summary()</code> command, calculate the values of <code>A</code> and <code>B</code> in the following regression output table.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Estimate</th>
<th>Std. Error</th>
<th>t value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(Intercept)</td>
<td>-1.192</td>
<td>0.22245</td>
<td>A</td>
</tr>
<tr class="even">
<td>sat</td>
<td>0.003</td>
<td>B</td>
<td>15.912</td>
</tr>
</tbody>
</table>
<p>A = <input class='webex-solveme nospaces' size='9' data-answer='["-5.358508","-5.35851","-5.3585","-5.359","-5.36","-5.4"]'/>
B = <input class='webex-solveme nospaces' size='11' data-answer='["0.000188537","0.00018854","0.0001885","0.000189","0.00019","2e-04",".000188537",".00018854",".0001885",".000189",".00019"]'/></p>
<p><br>
4. Construct a 95% confidence interval for the coefficient of <code>sat</code>. Comment on the interval.</p>
<div class="webex-solution">
<button>
Solution
</button>
<p>We could either calculate manually based on the output from <code>summary()</code> or use <code>confint()</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="exercise-1-grades.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Model2)</span>
<span id="cb27-2"><a href="exercise-1-grades.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fl">0.0030943</span> <span class="sc">+</span> <span class="fu">qt</span>(<span class="fl">0.975</span>,<span class="dv">200-2</span>)<span class="sc">*</span><span class="fl">0.0001945</span></span>
<span id="cb27-3"><a href="exercise-1-grades.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fl">0.0030943</span> <span class="sc">-</span> <span class="fu">qt</span>(<span class="fl">0.975</span>,<span class="dv">200-2</span>)<span class="sc">*</span><span class="fl">0.0001945</span></span>
<span id="cb27-4"><a href="exercise-1-grades.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">confint</span>(Model2)</span></code></pre></div>
<p>The 95% confidence interval for the coefficient of <code>sat</code> is (0.0027,0.0035), indicating that the SAT scores makes a statistically significant contribution in explaining the GPA scores.</p>
</div>
<br>
5. Which of the following comments on the <span class="math inline">\(p\)</span>-value for the predictor <code>sat</code> is appropriate?
<div id="radio_NTGMVLPAMU" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NTGMVLPAMU" value="answer"></input> <span>The <span class="math inline">\(p\)</span>-value is less than 0.05, so we reject the null hypothesis that the coefficient for SAT equals to zero and conclude that SAT is useful in predicting GPA scores.</span></label><label><input type="radio" autocomplete="off" name="radio_NTGMVLPAMU" value=""></input> <span>The <span class="math inline">\(p\)</span>-value is less than 0.05, so we fail to reject the null hypothesis that the coefficient for SAT equals to zero and conclude that SAT is not useful in predicting GPA scores.</span></label><label><input type="radio" autocomplete="off" name="radio_NTGMVLPAMU" value=""></input> <span>The <span class="math inline">\(p\)</span>-value is larger than 0.05, so we reject the null hypothesis that the coefficient for SAT equals to zero and conclude that SAT is useful in predicting GPA scores.</span></label><label><input type="radio" autocomplete="off" name="radio_NTGMVLPAMU" value=""></input> <span>The <span class="math inline">\(p\)</span>-value is larger than 0.05, so we fail to reject the null hypothesis that the coefficient for SAT equals to zero and conclude that SAT is not useful in predicting GPA scores.</span></label>
</div>
<!-- 
<div class='webex-solution'><button>Solution</button>
 -->
<!-- Suppose the simple linear regression model is given by: -->
<!-- <p align='center'> -->
<!-- `gpa` $= \alpha + \beta $`sat` -->
<!-- </p> -->
<!-- The hypothesis being test is: -->
<!-- $$H_0: \beta = 0 \quad \text{vs.} \quad H_1: \beta \neq 0 $$ -->
<!-- The $p$-value associated with `sat` is `< 2e-16`, indicating that  -->
<!-- 
</div>
 -->

</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="example-1-cherry-trees.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-2-body-fat.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
